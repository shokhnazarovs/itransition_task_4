{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Desktop/Projects/itransition/task_4/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setPending=_useState4[1];var navigate=useNavigate();function handleSubmit(event){event.preventDefault();setPending(true);var data={fname:event.target.fname.value,lname:event.target.lname.value,email:event.target.email.value,password:event.target.password.value};fetch('/register',{method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'},body:JSON.stringify(data)}).then(function(response){setPending(false);if(response.ok){navigate('/');}else if(response.status===403||response.status===406){setMessage('Unable to register');}else if(response.status===409){setMessage('This email was registered, please log in');}}).catch(function(error){console.log(\"fetching failed with error message: \",error);});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating my-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"fname\",type:\"text\",className:\"form-control\",id:\"floatingfname\",placeholder:\"First name\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingfname\",children:\"First name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating my-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"lname\",type:\"text\",className:\"form-control\",id:\"floatinglname\",placeholder:\"Last name\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatinglname\",children:\"Last name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating my-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",className:\"form-control\",id:\"floatingInput\",placeholder:\"name@example.com\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating my-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"authMessage mb-3\",children:message}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:isPending?'Loading...':'Sign up'})]});}export default Register;","map":{"version":3,"names":["useState","useNavigate","Register","message","setMessage","isPending","setPending","navigate","handleSubmit","event","preventDefault","data","fname","target","value","lname","email","password","fetch","method","headers","body","JSON","stringify","then","response","ok","status","catch","error","console","log"],"sources":["C:/Users/User/Desktop/Projects/itransition/task_4/client/src/Register.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Register() {\r\n    const [message, setMessage] = useState('');\r\n    const [isPending, setPending] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    function handleSubmit(event){\r\n      event.preventDefault();\r\n      setPending(true);\r\n      let data = {\r\n        fname: event.target.fname.value,\r\n        lname: event.target.lname.value,\r\n        email: event.target.email.value,\r\n        password: event.target.password.value\r\n      };\r\n      fetch('/register', {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json;charset=utf-8'},\r\n        body: JSON.stringify(data)\r\n      })\r\n        .then(function(response) {\r\n          setPending(false);\r\n          if(response.ok){ navigate('/');}\r\n          else if(response.status === 403 || response.status === 406){\r\n            setMessage('Unable to register');\r\n          } else if(response.status === 409){\r\n            setMessage('This email was registered, please log in');\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n        console.log(\"fetching failed with error message: \", error);\r\n        });\r\n    }\r\n\r\n    return (\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-floating my-2\">\r\n          <input name=\"fname\" type=\"text\" className=\"form-control\" id=\"floatingfname\" placeholder=\"First name\" required />\r\n          <label htmlFor=\"floatingfname\">First name</label>\r\n        </div>\r\n        <div className=\"form-floating my-2\">\r\n          <input name=\"lname\" type=\"text\" className=\"form-control\" id=\"floatinglname\" placeholder=\"Last name\" required />\r\n          <label htmlFor=\"floatinglname\">Last name</label>\r\n        </div>\r\n        <div className=\"form-floating my-2\">\r\n          <input name=\"email\" type=\"email\" className=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" required />\r\n          <label htmlFor=\"floatingInput\">Email address</label>\r\n        </div>\r\n        <div className=\"form-floating my-2\">\r\n          <input name=\"password\" type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" required />\r\n          <label htmlFor=\"floatingPassword\">Password</label>\r\n        </div>\r\n    \r\n        <div className=\"authMessage mb-3\">{message}</div>\r\n        <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">{(isPending) ? 'Loading...' : 'Sign up'}</button>\r\n      </form>\r\n    );\r\n  }\r\n  \r\n  export default Register;\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}