{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Desktop/Projects/itransition/task_4/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setPending=_useState4[1];var navigate=useNavigate();function handleSubmit(event){event.preventDefault();setPending(true);var data={email:event.target.email.value,password:event.target.password.value};fetch('/login-data',{method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'},body:JSON.stringify(data)}).then(function(response){setPending(false);if(response.ok){navigate('/');}else if(response.status===403){setMessage('Your account suspended!');}else if(response.status===401){setMessage('Wrong password or login');}}).catch(function(error){console.log(\"fetching failed with error message: \",error);setPending(false);});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating my-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",className:\"form-control\",id:\"floatingInput\",placeholder:\"name@example.com\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating my-2\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"authMessage mb-3\",children:message}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:isPending?'Loading...':'Sign in'})]});}export default Login;","map":{"version":3,"names":["useState","useNavigate","Login","message","setMessage","isPending","setPending","navigate","handleSubmit","event","preventDefault","data","email","target","value","password","fetch","method","headers","body","JSON","stringify","then","response","ok","status","catch","error","console","log"],"sources":["C:/Users/User/Desktop/Projects/itransition/task_4/client/src/Login.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const [message, setMessage] = useState('');\r\n  const [isPending, setPending] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  function handleSubmit(event){\r\n    event.preventDefault();\r\n    setPending(true);\r\n\r\n    let data = {\r\n      email: event.target.email.value,\r\n      password: event.target.password.value\r\n    };\r\n    fetch('/login-data', {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json;charset=utf-8'},\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(function(response) {\r\n        setPending(false);\r\n        if(response.ok){ navigate('/');}\r\n        else if(response.status === 403){\r\n          setMessage('Your account suspended!');\r\n        } else if(response.status === 401){\r\n          setMessage('Wrong password or login');\r\n        }\r\n      })\r\n      .catch(function(error) {\r\n        console.log(\"fetching failed with error message: \", error);\r\n        setPending(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-floating my-2\">\r\n          <input name=\"email\" type=\"email\" className=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" required />\r\n          <label htmlFor=\"floatingInput\">Email address</label>\r\n        </div>\r\n        <div className=\"form-floating my-2\">\r\n          <input name=\"password\" type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" required />\r\n          <label htmlFor=\"floatingPassword\">Password</label>\r\n        </div>\r\n    \r\n        <div className=\"authMessage mb-3\">{message}</div>\r\n        <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">{(isPending) ? 'Loading...' : 'Sign in'}</button>\r\n      </form>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"8IAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,QAASC,MAAK,EAAG,CACf,cAA8BF,QAAQ,CAAC,EAAE,CAAC,wCAAnCG,OAAO,eAAEC,UAAU,eAC1B,eAAgCJ,QAAQ,CAAC,KAAK,CAAC,yCAAxCK,SAAS,eAAEC,UAAU,eAC5B,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9B,QAASO,aAAY,CAACC,KAAK,CAAC,CAC1BA,KAAK,CAACC,cAAc,EAAE,CACtBJ,UAAU,CAAC,IAAI,CAAC,CAEhB,GAAIK,KAAI,CAAG,CACTC,KAAK,CAAEH,KAAK,CAACI,MAAM,CAACD,KAAK,CAACE,KAAK,CAC/BC,QAAQ,CAAEN,KAAK,CAACI,MAAM,CAACE,QAAQ,CAACD,KAClC,CAAC,CACDE,KAAK,CAAC,aAAa,CAAE,CACnBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAC,cAAc,CAAE,gCAAgC,CAAC,CAC3DC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACV,IAAI,CAC3B,CAAC,CAAC,CACCW,IAAI,CAAC,SAASC,QAAQ,CAAE,CACvBjB,UAAU,CAAC,KAAK,CAAC,CACjB,GAAGiB,QAAQ,CAACC,EAAE,CAAC,CAAEjB,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,IAC3B,IAAGgB,QAAQ,CAACE,MAAM,GAAK,GAAG,CAAC,CAC9BrB,UAAU,CAAC,yBAAyB,CAAC,CACvC,CAAC,IAAM,IAAGmB,QAAQ,CAACE,MAAM,GAAK,GAAG,CAAC,CAChCrB,UAAU,CAAC,yBAAyB,CAAC,CACvC,CACF,CAAC,CAAC,CACDsB,KAAK,CAAC,SAASC,KAAK,CAAE,CACrBC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAEF,KAAK,CAAC,CAC1DrB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAEA,mBACI,cAAM,QAAQ,CAAEE,YAAa,wBAC3B,aAAK,SAAS,CAAC,oBAAoB,wBACjC,cAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,kBAAkB,CAAC,QAAQ,OAAG,cACvH,cAAO,OAAO,CAAC,eAAe,2BAAsB,GAChD,cACN,aAAK,SAAS,CAAC,oBAAoB,wBACjC,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,kBAAkB,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,OAAG,cACxH,cAAO,OAAO,CAAC,kBAAkB,sBAAiB,GAC9C,cAEN,YAAK,SAAS,CAAC,kBAAkB,UAAEL,OAAO,EAAO,cACjD,eAAQ,SAAS,CAAC,8BAA8B,CAAC,IAAI,CAAC,QAAQ,UAAGE,SAAS,CAAI,YAAY,CAAG,SAAS,EAAU,GAC3G,CAEb,CAEA,cAAeH,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}